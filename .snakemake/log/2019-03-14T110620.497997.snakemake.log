Building DAG of jobs...
Using shell: /anaconda2/envs/py3/bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all_egg_analyses
	4	compair_pairs
	4	egg_epistasis
	4	export
	4	find_egg_mutations
	4	organize_output
	2	plot_background
	4	simplify_auspice_names
	4	tip_frequencies
	31

[Thu Mar 14 11:06:22 2019]
rule export:
    input: results/tree_who_h3n2_ha_12y_concat_fra.nwk, results/metadata_h3n2_ha.tsv, config/auspice_config_h3n2.json, results/branch-lengths_who_h3n2_ha_12y_concat_fra.json, results/nt-muts_who_h3n2_ha_12y_concat_fra.json, results/aa-muts_who_h3n2_ha_12y_concat_fra.json, results/titers-tree-model_who_h3n2_ha_12y_concat_fra.json, results/titers-sub-model_who_h3n2_ha_12y_concat_fra.json, results/clades_who_h3n2_ha_12y_concat_fra.json, results/traits_who_h3n2_ha_12y_concat_fra.json, results/lbi_who_h3n2_ha_12y_concat_fra.json, results/distances_who_h3n2_ha_12y_concat_fra.json
    output: auspice/flu_who_h3n2_ha_12y_concat_fra_tree.json, auspice/flu_who_h3n2_ha_12y_concat_fra_meta.json, auspice/flu_who_h3n2_ha_12y_concat_fra_root-sequence.json
    jobid: 39
    wildcards: center=who, lineage=h3n2, segment=ha, resolution=12y, passage=concat, assay=fra

[Thu Mar 14 11:06:47 2019]
Finished job 39.
1 of 31 steps (3%) done

[Thu Mar 14 11:06:47 2019]
rule export:
    input: results/tree_who_h3n2_ha_12y_concat_hi.nwk, results/metadata_h3n2_ha.tsv, config/auspice_config_h3n2.json, results/branch-lengths_who_h3n2_ha_12y_concat_hi.json, results/nt-muts_who_h3n2_ha_12y_concat_hi.json, results/aa-muts_who_h3n2_ha_12y_concat_hi.json, results/titers-tree-model_who_h3n2_ha_12y_concat_hi.json, results/titers-sub-model_who_h3n2_ha_12y_concat_hi.json, results/clades_who_h3n2_ha_12y_concat_hi.json, results/traits_who_h3n2_ha_12y_concat_hi.json, results/lbi_who_h3n2_ha_12y_concat_hi.json, results/distances_who_h3n2_ha_12y_concat_hi.json
    output: auspice/flu_who_h3n2_ha_12y_concat_hi_tree.json, auspice/flu_who_h3n2_ha_12y_concat_hi_meta.json, auspice/flu_who_h3n2_ha_12y_concat_hi_root-sequence.json
    jobid: 35
    wildcards: center=who, lineage=h3n2, segment=ha, resolution=12y, passage=concat, assay=hi

[Thu Mar 14 11:07:18 2019]
Finished job 35.
2 of 31 steps (6%) done

[Thu Mar 14 11:07:18 2019]
rule export:
    input: results/tree_who_h3n2_ha_6y_concat_hi.nwk, results/metadata_h3n2_ha.tsv, config/auspice_config_h3n2.json, results/branch-lengths_who_h3n2_ha_6y_concat_hi.json, results/nt-muts_who_h3n2_ha_6y_concat_hi.json, results/aa-muts_who_h3n2_ha_6y_concat_hi.json, results/titers-tree-model_who_h3n2_ha_6y_concat_hi.json, results/titers-sub-model_who_h3n2_ha_6y_concat_hi.json, results/clades_who_h3n2_ha_6y_concat_hi.json, results/traits_who_h3n2_ha_6y_concat_hi.json, results/lbi_who_h3n2_ha_6y_concat_hi.json, results/distances_who_h3n2_ha_6y_concat_hi.json
    output: auspice/flu_who_h3n2_ha_6y_concat_hi_tree.json, auspice/flu_who_h3n2_ha_6y_concat_hi_meta.json, auspice/flu_who_h3n2_ha_6y_concat_hi_root-sequence.json
    jobid: 27
    wildcards: center=who, lineage=h3n2, segment=ha, resolution=6y, passage=concat, assay=hi

[Thu Mar 14 11:07:42 2019]
Finished job 27.
3 of 31 steps (10%) done

[Thu Mar 14 11:07:42 2019]
rule export:
    input: results/tree_who_h3n2_ha_6y_concat_fra.nwk, results/metadata_h3n2_ha.tsv, config/auspice_config_h3n2.json, results/branch-lengths_who_h3n2_ha_6y_concat_fra.json, results/nt-muts_who_h3n2_ha_6y_concat_fra.json, results/aa-muts_who_h3n2_ha_6y_concat_fra.json, results/titers-tree-model_who_h3n2_ha_6y_concat_fra.json, results/titers-sub-model_who_h3n2_ha_6y_concat_fra.json, results/clades_who_h3n2_ha_6y_concat_fra.json, results/traits_who_h3n2_ha_6y_concat_fra.json, results/lbi_who_h3n2_ha_6y_concat_fra.json, results/distances_who_h3n2_ha_6y_concat_fra.json
    output: auspice/flu_who_h3n2_ha_6y_concat_fra_tree.json, auspice/flu_who_h3n2_ha_6y_concat_fra_meta.json, auspice/flu_who_h3n2_ha_6y_concat_fra_root-sequence.json
    jobid: 31
    wildcards: center=who, lineage=h3n2, segment=ha, resolution=6y, passage=concat, assay=fra

[Thu Mar 14 11:08:03 2019]
Finished job 31.
4 of 31 steps (13%) done

[Thu Mar 14 11:08:03 2019]
rule tip_frequencies:
    input: results/tree_who_h3n2_ha_12y_concat_fra.nwk, results/metadata_h3n2_ha.tsv, config/frequency_weights_by_region.json
    output: auspice/flu_who_h3n2_ha_12y_concat_fra_tip-frequencies.json
    jobid: 40
    wildcards: center=who, lineage=h3n2, segment=ha, resolution=12y, passage=concat, assay=fra

[Thu Mar 14 11:08:18 2019]
Finished job 40.
5 of 31 steps (16%) done

[Thu Mar 14 11:08:18 2019]
rule simplify_auspice_names:
    input: auspice/flu_who_h3n2_ha_12y_concat_fra_tree.json, auspice/flu_who_h3n2_ha_12y_concat_fra_meta.json, auspice/flu_who_h3n2_ha_12y_concat_fra_root-sequence.json, auspice/flu_who_h3n2_ha_12y_concat_fra_tip-frequencies.json
    output: auspice/flu_seasonal_h3n2_ha_12y_fra_tree.json, auspice/flu_seasonal_h3n2_ha_12y_fra_meta.json, auspice/flu_seasonal_h3n2_ha_12y_fra_root-sequence.json, auspice/flu_seasonal_h3n2_ha_12y_fra_tip-frequencies.json
    jobid: 25
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=fra

Waiting at most 5 seconds for missing files.
[Thu Mar 14 11:08:19 2019]
Finished job 25.
6 of 31 steps (19%) done

[Thu Mar 14 11:08:19 2019]
rule organize_output:
    input: auspice/flu_seasonal_h3n2_ha_12y_fra_tree.json, results/aa-seq_who_h3n2_ha_12y_concat_fra_HA1.fasta, auspice/flu_seasonal_h3n2_ha_12y_fra_root-sequence.json
    output: dataframes/h3n2_ha_12y_fra.csv, dataframes/h3n2_ha_12y_fra_egg.csv, dataframes/h3n2_ha_12y_fra_tidy.csv
    jobid: 4
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=fra

[Thu Mar 14 11:09:35 2019]
Finished job 4.
7 of 31 steps (23%) done

[Thu Mar 14 11:09:35 2019]
rule tip_frequencies:
    input: results/tree_who_h3n2_ha_12y_concat_hi.nwk, results/metadata_h3n2_ha.tsv, config/frequency_weights_by_region.json
    output: auspice/flu_who_h3n2_ha_12y_concat_hi_tip-frequencies.json
    jobid: 36
    wildcards: center=who, lineage=h3n2, segment=ha, resolution=12y, passage=concat, assay=hi

[Thu Mar 14 11:09:50 2019]
Finished job 36.
8 of 31 steps (26%) done

[Thu Mar 14 11:09:50 2019]
rule simplify_auspice_names:
    input: auspice/flu_who_h3n2_ha_12y_concat_hi_tree.json, auspice/flu_who_h3n2_ha_12y_concat_hi_meta.json, auspice/flu_who_h3n2_ha_12y_concat_hi_root-sequence.json, auspice/flu_who_h3n2_ha_12y_concat_hi_tip-frequencies.json
    output: auspice/flu_seasonal_h3n2_ha_12y_hi_tree.json, auspice/flu_seasonal_h3n2_ha_12y_hi_meta.json, auspice/flu_seasonal_h3n2_ha_12y_hi_root-sequence.json, auspice/flu_seasonal_h3n2_ha_12y_hi_tip-frequencies.json
    jobid: 23
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=hi

Waiting at most 5 seconds for missing files.
[Thu Mar 14 11:09:51 2019]
Finished job 23.
9 of 31 steps (29%) done

[Thu Mar 14 11:09:51 2019]
rule organize_output:
    input: auspice/flu_seasonal_h3n2_ha_12y_hi_tree.json, results/aa-seq_who_h3n2_ha_12y_concat_hi_HA1.fasta, auspice/flu_seasonal_h3n2_ha_12y_hi_root-sequence.json
    output: dataframes/h3n2_ha_12y_hi.csv, dataframes/h3n2_ha_12y_hi_egg.csv, dataframes/h3n2_ha_12y_hi_tidy.csv
    jobid: 3
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=hi

[Thu Mar 14 11:11:12 2019]
Finished job 3.
10 of 31 steps (32%) done

[Thu Mar 14 11:11:12 2019]
rule tip_frequencies:
    input: results/tree_who_h3n2_ha_6y_concat_fra.nwk, results/metadata_h3n2_ha.tsv, config/frequency_weights_by_region.json
    output: auspice/flu_who_h3n2_ha_6y_concat_fra_tip-frequencies.json
    jobid: 32
    wildcards: center=who, lineage=h3n2, segment=ha, resolution=6y, passage=concat, assay=fra

[Thu Mar 14 11:11:27 2019]
Finished job 32.
11 of 31 steps (35%) done

[Thu Mar 14 11:11:27 2019]
rule simplify_auspice_names:
    input: auspice/flu_who_h3n2_ha_6y_concat_fra_tree.json, auspice/flu_who_h3n2_ha_6y_concat_fra_meta.json, auspice/flu_who_h3n2_ha_6y_concat_fra_root-sequence.json, auspice/flu_who_h3n2_ha_6y_concat_fra_tip-frequencies.json
    output: auspice/flu_seasonal_h3n2_ha_6y_fra_tree.json, auspice/flu_seasonal_h3n2_ha_6y_fra_meta.json, auspice/flu_seasonal_h3n2_ha_6y_fra_root-sequence.json, auspice/flu_seasonal_h3n2_ha_6y_fra_tip-frequencies.json
    jobid: 21
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=fra

Waiting at most 5 seconds for missing files.
[Thu Mar 14 11:11:28 2019]
Finished job 21.
12 of 31 steps (39%) done

[Thu Mar 14 11:11:28 2019]
rule organize_output:
    input: auspice/flu_seasonal_h3n2_ha_6y_fra_tree.json, results/aa-seq_who_h3n2_ha_6y_concat_fra_HA1.fasta, auspice/flu_seasonal_h3n2_ha_6y_fra_root-sequence.json
    output: dataframes/h3n2_ha_6y_fra.csv, dataframes/h3n2_ha_6y_fra_egg.csv, dataframes/h3n2_ha_6y_fra_tidy.csv
    jobid: 2
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=fra

[Thu Mar 14 11:12:23 2019]
Finished job 2.
13 of 31 steps (42%) done

[Thu Mar 14 11:12:23 2019]
rule tip_frequencies:
    input: results/tree_who_h3n2_ha_6y_concat_hi.nwk, results/metadata_h3n2_ha.tsv, config/frequency_weights_by_region.json
    output: auspice/flu_who_h3n2_ha_6y_concat_hi_tip-frequencies.json
    jobid: 28
    wildcards: center=who, lineage=h3n2, segment=ha, resolution=6y, passage=concat, assay=hi

[Thu Mar 14 11:12:38 2019]
Finished job 28.
14 of 31 steps (45%) done

[Thu Mar 14 11:12:38 2019]
rule simplify_auspice_names:
    input: auspice/flu_who_h3n2_ha_6y_concat_hi_tree.json, auspice/flu_who_h3n2_ha_6y_concat_hi_meta.json, auspice/flu_who_h3n2_ha_6y_concat_hi_root-sequence.json, auspice/flu_who_h3n2_ha_6y_concat_hi_tip-frequencies.json
    output: auspice/flu_seasonal_h3n2_ha_6y_hi_tree.json, auspice/flu_seasonal_h3n2_ha_6y_hi_meta.json, auspice/flu_seasonal_h3n2_ha_6y_hi_root-sequence.json, auspice/flu_seasonal_h3n2_ha_6y_hi_tip-frequencies.json
    jobid: 19
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=hi

Waiting at most 5 seconds for missing files.
[Thu Mar 14 11:12:39 2019]
Finished job 19.
15 of 31 steps (48%) done

[Thu Mar 14 11:12:39 2019]
rule organize_output:
    input: auspice/flu_seasonal_h3n2_ha_6y_hi_tree.json, results/aa-seq_who_h3n2_ha_6y_concat_hi_HA1.fasta, auspice/flu_seasonal_h3n2_ha_6y_hi_root-sequence.json
    output: dataframes/h3n2_ha_6y_hi.csv, dataframes/h3n2_ha_6y_hi_egg.csv, dataframes/h3n2_ha_6y_hi_tidy.csv
    jobid: 1
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=hi

[Thu Mar 14 11:13:08 2019]
Finished job 1.
16 of 31 steps (52%) done

[Thu Mar 14 11:13:08 2019]
rule egg_epistasis:
    input: dataframes/h3n2_ha_12y_fra.csv
    output: plots/h3n2_ha_12y_fra/epistasis_heatmap_h3n2_ha_12y_fra.pdf, plots/h3n2_ha_12y_fra/epistasis_chord_diagram_h3n2_ha_12y_fra.pdf
    jobid: 12
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=fra

[Thu Mar 14 11:13:29 2019]
Finished job 12.
17 of 31 steps (55%) done

[Thu Mar 14 11:13:29 2019]
rule compair_pairs:
    input: dataframes/h3n2_ha_12y_fra.csv
    output: egg_results/egg_mutation_accuracy_h3n2_ha_12y_fra.json
    jobid: 18
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=fra

[Thu Mar 14 11:13:30 2019]
Finished job 18.
18 of 31 steps (58%) done

[Thu Mar 14 11:13:30 2019]
rule find_egg_mutations:
    input: dataframes/h3n2_ha_12y_fra.csv
    output: plots/h3n2_ha_12y_fra/egg_mutation_aa_prevalence_h3n2_ha_12y_fra.pdf, plots/h3n2_ha_12y_fra/egg_mutation_site_prevalence_h3n2_ha_12y_fra.pdf, plots/h3n2_ha_12y_fra/before_after_eggpassaging_h3n2_ha_12y_fra.pdf
    jobid: 8
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=fra

[Thu Mar 14 11:13:35 2019]
Finished job 8.
19 of 31 steps (61%) done

[Thu Mar 14 11:13:35 2019]
rule find_egg_mutations:
    input: dataframes/h3n2_ha_12y_hi.csv
    output: plots/h3n2_ha_12y_hi/egg_mutation_aa_prevalence_h3n2_ha_12y_hi.pdf, plots/h3n2_ha_12y_hi/egg_mutation_site_prevalence_h3n2_ha_12y_hi.pdf, plots/h3n2_ha_12y_hi/before_after_eggpassaging_h3n2_ha_12y_hi.pdf
    jobid: 7
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=hi

[Thu Mar 14 11:13:41 2019]
Finished job 7.
20 of 31 steps (65%) done

[Thu Mar 14 11:13:41 2019]
rule compair_pairs:
    input: dataframes/h3n2_ha_12y_hi.csv
    output: egg_results/egg_mutation_accuracy_h3n2_ha_12y_hi.json
    jobid: 17
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=hi

[Thu Mar 14 11:13:42 2019]
Finished job 17.
21 of 31 steps (68%) done

[Thu Mar 14 11:13:42 2019]
rule egg_epistasis:
    input: dataframes/h3n2_ha_12y_hi.csv
    output: plots/h3n2_ha_12y_hi/epistasis_heatmap_h3n2_ha_12y_hi.pdf, plots/h3n2_ha_12y_hi/epistasis_chord_diagram_h3n2_ha_12y_hi.pdf
    jobid: 11
    wildcards: lineage=h3n2, segment=ha, resolution=12y, assay=hi

[Thu Mar 14 11:13:57 2019]
Finished job 11.
22 of 31 steps (71%) done

[Thu Mar 14 11:13:57 2019]
rule plot_background:
    input: dataframes/h3n2_ha_6y_fra.csv, config/clades_h3n2_ha.tsv
    output: plots/h3n2_ha_6y_fra/genetic_background_heatmap_h3n2_ha_6y_fra.pdf
    jobid: 14
    wildcards: lineage=h3n2, segment=ha, assay=fra

[Thu Mar 14 11:14:01 2019]
Finished job 14.
23 of 31 steps (74%) done

[Thu Mar 14 11:14:01 2019]
rule find_egg_mutations:
    input: dataframes/h3n2_ha_6y_fra.csv
    output: plots/h3n2_ha_6y_fra/egg_mutation_aa_prevalence_h3n2_ha_6y_fra.pdf, plots/h3n2_ha_6y_fra/egg_mutation_site_prevalence_h3n2_ha_6y_fra.pdf, plots/h3n2_ha_6y_fra/before_after_eggpassaging_h3n2_ha_6y_fra.pdf
    jobid: 6
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=fra

[Thu Mar 14 11:14:07 2019]
Finished job 6.
24 of 31 steps (77%) done

[Thu Mar 14 11:14:07 2019]
rule compair_pairs:
    input: dataframes/h3n2_ha_6y_fra.csv
    output: egg_results/egg_mutation_accuracy_h3n2_ha_6y_fra.json
    jobid: 16
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=fra

[Thu Mar 14 11:14:08 2019]
Finished job 16.
25 of 31 steps (81%) done

[Thu Mar 14 11:14:08 2019]
rule egg_epistasis:
    input: dataframes/h3n2_ha_6y_fra.csv
    output: plots/h3n2_ha_6y_fra/epistasis_heatmap_h3n2_ha_6y_fra.pdf, plots/h3n2_ha_6y_fra/epistasis_chord_diagram_h3n2_ha_6y_fra.pdf
    jobid: 10
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=fra

[Thu Mar 14 11:14:26 2019]
Finished job 10.
26 of 31 steps (84%) done

[Thu Mar 14 11:14:26 2019]
rule plot_background:
    input: dataframes/h3n2_ha_6y_hi.csv, config/clades_h3n2_ha.tsv
    output: plots/h3n2_ha_6y_hi/genetic_background_heatmap_h3n2_ha_6y_hi.pdf
    jobid: 13
    wildcards: lineage=h3n2, segment=ha, assay=hi

[Thu Mar 14 11:14:31 2019]
Finished job 13.
27 of 31 steps (87%) done

[Thu Mar 14 11:14:31 2019]
rule egg_epistasis:
    input: dataframes/h3n2_ha_6y_hi.csv
    output: plots/h3n2_ha_6y_hi/epistasis_heatmap_h3n2_ha_6y_hi.pdf, plots/h3n2_ha_6y_hi/epistasis_chord_diagram_h3n2_ha_6y_hi.pdf
    jobid: 9
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=hi

[Thu Mar 14 11:14:48 2019]
Finished job 9.
28 of 31 steps (90%) done

[Thu Mar 14 11:14:48 2019]
rule compair_pairs:
    input: dataframes/h3n2_ha_6y_hi.csv
    output: egg_results/egg_mutation_accuracy_h3n2_ha_6y_hi.json
    jobid: 15
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=hi

[Thu Mar 14 11:14:49 2019]
Finished job 15.
29 of 31 steps (94%) done

[Thu Mar 14 11:14:49 2019]
rule find_egg_mutations:
    input: dataframes/h3n2_ha_6y_hi.csv
    output: plots/h3n2_ha_6y_hi/egg_mutation_aa_prevalence_h3n2_ha_6y_hi.pdf, plots/h3n2_ha_6y_hi/egg_mutation_site_prevalence_h3n2_ha_6y_hi.pdf, plots/h3n2_ha_6y_hi/before_after_eggpassaging_h3n2_ha_6y_hi.pdf
    jobid: 5
    wildcards: lineage=h3n2, segment=ha, resolution=6y, assay=hi

[Thu Mar 14 11:14:54 2019]
Finished job 5.
30 of 31 steps (97%) done

[Thu Mar 14 11:14:54 2019]
localrule all_egg_analyses:
    input: dataframes/h3n2_ha_6y_hi.csv, dataframes/h3n2_ha_6y_fra.csv, dataframes/h3n2_ha_12y_hi.csv, dataframes/h3n2_ha_12y_fra.csv, plots/h3n2_ha_6y_hi/egg_mutation_aa_prevalence_h3n2_ha_6y_hi.pdf, plots/h3n2_ha_6y_fra/egg_mutation_aa_prevalence_h3n2_ha_6y_fra.pdf, plots/h3n2_ha_12y_hi/egg_mutation_aa_prevalence_h3n2_ha_12y_hi.pdf, plots/h3n2_ha_12y_fra/egg_mutation_aa_prevalence_h3n2_ha_12y_fra.pdf, plots/h3n2_ha_6y_hi/epistasis_heatmap_h3n2_ha_6y_hi.pdf, plots/h3n2_ha_6y_fra/epistasis_heatmap_h3n2_ha_6y_fra.pdf, plots/h3n2_ha_12y_hi/epistasis_heatmap_h3n2_ha_12y_hi.pdf, plots/h3n2_ha_12y_fra/epistasis_heatmap_h3n2_ha_12y_fra.pdf, plots/h3n2_ha_6y_hi/genetic_background_heatmap_h3n2_ha_6y_hi.pdf, plots/h3n2_ha_6y_fra/genetic_background_heatmap_h3n2_ha_6y_fra.pdf, plots/h3n2_ha_6y_hi/epistasis_chord_diagram_h3n2_ha_6y_hi.pdf, plots/h3n2_ha_6y_fra/epistasis_chord_diagram_h3n2_ha_6y_fra.pdf, plots/h3n2_ha_12y_hi/epistasis_chord_diagram_h3n2_ha_12y_hi.pdf, plots/h3n2_ha_12y_fra/epistasis_chord_diagram_h3n2_ha_12y_fra.pdf, egg_results/egg_mutation_accuracy_h3n2_ha_6y_hi.json, egg_results/egg_mutation_accuracy_h3n2_ha_6y_fra.json, egg_results/egg_mutation_accuracy_h3n2_ha_12y_hi.json, egg_results/egg_mutation_accuracy_h3n2_ha_12y_fra.json
    jobid: 0

[Thu Mar 14 11:14:54 2019]
Finished job 0.
31 of 31 steps (100%) done
Complete log: /Users/katekistler/nextstrain/egg-passage/.snakemake/log/2019-03-14T110620.497997.snakemake.log
